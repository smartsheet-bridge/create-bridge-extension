<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/create-bridge-extension/blog/rss.xml" title="Create Bridge Extension Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/create-bridge-extension/blog/atom.xml" title="Create Bridge Extension Blog Atom Feed"><title data-react-helmet="true">Migration Guide | Create Bridge Extension</title><meta data-react-helmet="true" property="og:url" content="https://bridge.smartsheet.com/create-bridge-extension/advanced/migration_guide"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Migration Guide | Create Bridge Extension"><meta data-react-helmet="true" name="description" content="This is a reference for upgrading your existing Bridge by Smartsheet extension to the latest development tools and runtime handler."><meta data-react-helmet="true" property="og:description" content="This is a reference for upgrading your existing Bridge by Smartsheet extension to the latest development tools and runtime handler."><link data-react-helmet="true" rel="shortcut icon" href="/create-bridge-extension/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://bridge.smartsheet.com/create-bridge-extension/advanced/migration_guide"><link data-react-helmet="true" rel="alternate" href="https://bridge.smartsheet.com/create-bridge-extension/advanced/migration_guide" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://bridge.smartsheet.com/create-bridge-extension/advanced/migration_guide" hreflang="x-default"><link rel="stylesheet" href="/create-bridge-extension/assets/css/styles.5d53e25a.css">
<link rel="preload" href="/create-bridge-extension/assets/js/runtime~main.b750daa1.js" as="script">
<link rel="preload" href="/create-bridge-extension/assets/js/main.fd57a5a2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_3wvD">Skip to main content</a></div><div class="announcementBar_2FrG" style="background-color:#ee6f4c;color:#091E42" role="banner"><div class="announcementBarContent_1th2">This documentation is preview only.</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/create-bridge-extension/"><img src="/create-bridge-extension/img/logo.svg" alt="Bridge by Smartsheet logo" class="themedImage_Ir0T themedImage--light_2_E0 navbar__logo"><img src="/create-bridge-extension/img/logo-dark.svg" alt="Bridge by Smartsheet logo" class="themedImage_Ir0T themedImage--dark_2JiM navbar__logo"><strong class="navbar__title">Create Bridge Extension</strong></a><a class="navbar__item navbar__link" docid="doc" href="/create-bridge-extension/">Docs</a><a class="navbar__item navbar__link" href="/create-bridge-extension/api/extension-scripts">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/smartsheet-bridge/create-bridge-extension" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" aria-label="GitHub repository">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_2XYw react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_2wFP">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_2wFP">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/create-bridge-extension/"><img src="/create-bridge-extension/img/logo.svg" alt="Bridge by Smartsheet logo" class="themedImage_Ir0T themedImage--light_2_E0 navbar__logo"><img src="/create-bridge-extension/img/logo-dark.svg" alt="Bridge by Smartsheet logo" class="themedImage_Ir0T themedImage--dark_2JiM navbar__logo"><strong class="navbar__title">Create Bridge Extension</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" docid="doc" href="/create-bridge-extension/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/create-bridge-extension/api/extension-scripts">API</a></li><li class="menu__list-item"><a href="https://github.com/smartsheet-bridge/create-bridge-extension" target="_blank" rel="noopener noreferrer" class="menu__link" aria-label="GitHub repository">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_3jyA"><div class="docSidebarContainer_3jRz" role="complementary"><div class="sidebar_2j-V"><div class="menu menu--responsive thin-scrollbar menu_1Xkn"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Vtis" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create-bridge-extension/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create-bridge-extension/getting_started/quick_start">Quick Start</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Main Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create-bridge-extension/concepts/introduction">Introduction to Extensions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create-bridge-extension/concepts/entry">Entry Point</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create-bridge-extension/concepts/spec">Specification File</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create-bridge-extension/concepts/function">Functions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Common Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create-bridge-extension/recipes/add_module">Add Module</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create-bridge-extension/recipes/use_settings">Use Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/create-bridge-extension/recipes/use_auth">Use Auth</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Advanced Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/create-bridge-extension/advanced/setup">Manual Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/create-bridge-extension/advanced/thunks">Using Thunks</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/create-bridge-extension/advanced/migration_guide">Migration Guide</a></li></ul></li></ul></div></div></div><main class="docMainContainer_28SP"><div class="container padding-vert--lg docItemWrapper_3ZSj"><div class="row"><div class="col docItemCol_1o9i"><div class="docItemContainer_3nUq"><article><header><h1 class="docTitle_33JP">Migration Guide</h1></header><div class="markdown"><p>This is a reference for upgrading your existing <a href="https://www.smartsheet.com/platform/bridge" target="_blank" rel="noopener noreferrer">Bridge by Smartsheet</a> extension to the latest development tools and runtime handler.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="from-converse-cli-to-extension-scripts0x"></a>From <code>converse-cli</code> to <code>extension-scripts@0.x</code><a class="hash-link" href="#from-converse-cli-to-extension-scripts0x" title="Direct link to heading">#</a></h2><p>To use the new tooling with a legacy extension is quite simple and requires only three steps.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="migration-steps"></a>Migration Steps<a class="hash-link" href="#migration-steps" title="Direct link to heading">#</a></h3><ol><li><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="modify-the-source-code-to-work-with-the-new-tooling"></a>Modify the source code to work with the new tooling<a class="hash-link" href="#modify-the-source-code-to-work-with-the-new-tooling" title="Direct link to heading">#</a></h4><p>Autogenerate your extension using the <code>converse-cli</code> one last time; make sure you are authenticated with the <code>converse-cli</code> tool, then run <code>converse-cli plugin init</code> in the root directory of your extension. This will initialize your extension by autogenerating the files needed and installing any dependencies.</p><p>Open the newly autogenerated file called <code>plugin.js</code> and locate the only exported function. It will start with <code>exports.</code> and be a combination of your authenticated account name and the extension name. Something like the following example:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q js"><div tabindex="0" class="prism-code language-js codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">exports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(130, 170, 255)">myaccount_myextension</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">request</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Rename this function to <code>main</code></p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q js"><div tabindex="0" class="prism-code language-js codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">exports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(130, 170, 255)">main</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">request</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>To ensure your tests continue to work you may also need to modify any tests that rely on this function. In particular, the autogenerated <code>test/lib/express.js</code> file imports the root function and will need to be updated:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q git"><div tabindex="0" class="prism-code language-git codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token deleted" style="color:rgb(255, 85, 114)">- const myfunction  = require(&#x27;../../&#x27;).myaccount_myfunction;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted" style="color:rgb(195, 232, 141)">+ const myfunction  = require(&#x27;../../&#x27;).main;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Using version control?</h5></div><div class="admonition-content"><p>The new extension tooling no longer autogenerates extension code during initialization or deployment so now that you&#x27;ve generated the code for the last time you must remove it from your <code>.gitignore</code> file or similar so that they can be stored in your version control software.</p></div></div></li><li><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="replace-converse-cli-with-extension-scripts"></a>Replace <code>converse-cli</code> with <code>extension-scripts</code><a class="hash-link" href="#replace-converse-cli-with-extension-scripts" title="Direct link to heading">#</a></h4><p>Once you have autogenerated your code via the <code>converse-cli</code> for the final time, you can wave goodbye to the <code>converse-cli</code> ðŸ‘‹</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q bash"><div tabindex="0" class="prism-code language-bash codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> uninstall converse-cli</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>globally installed?</h5></div><div class="admonition-content"><p>If you were an early adopter of the <code>converse-cli</code> you may have installed it globally - this is now considered bad practice and the new tooling will not be installed in a similar way. If this applies to you, you may leave the globally installed instance of <code>converse-cli</code> in place, until such time that you do not need to work with non-migrated extensions. However, we are actively encouraging you to remove the <code>converse-cli</code> globally as well by running:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q bash"><div tabindex="0" class="prism-code language-bash codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> uninstall -g converse-cli</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div></div></div><p>Install the <code>extension-scripts</code> package as a development dependency of your extension.</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q"><div tabindex="0" class="prism-code language-undefined codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm install -D @smartsheet-bridge/extension-scripts</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Now you can run all the <code>extension-scripts</code> commands from the terminal using <code>node_modules/.bin/extension-scripts &lt;cmd&gt;</code> or run them directly from <a href="https://docs.npmjs.com/cli/v8/using-npm/scripts" target="_blank" rel="noopener noreferrer">npm scripts</a> like <code>extension-scripts &lt;cmd&gt;</code>.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>best practice</h5></div><div class="admonition-content"><p>The team recommends you add the following scripts to your <code>package.json</code> file to help with development.</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q json"><div tabindex="0" class="prism-code language-json codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">&quot;account&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;extension-scripts account&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;build&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;extension-scripts build&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;deploy&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;extension-scripts deploy&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;revoke&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;extension-scripts revoke&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;logs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;extension-scripts logs&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div></div></div><p>If you have been using <code>converse-cli</code> tool locally you may have already set up some scripts in your <code>package.json</code> file, in which case it may be useful to refer to the <a href="#command-line-comparison-table">table below</a> regarding like-for-like commands in each tool. E.g.</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q git"><div tabindex="0" class="prism-code language-git codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token deleted" style="color:rgb(255, 85, 114)">- &quot;deploy&quot;: &quot;converse-cli deploy&quot;,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted" style="color:rgb(195, 232, 141)">+ &quot;deploy&quot;: &quot;extension-scripts deploy&quot;,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>For more information on how to make the most of the new tooling, see <a href="/create-bridge-extension/api/extension-scripts">the extension-scripts API docs</a>.</p></li><li><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="configure-extension-scripts-to-work-with-legacy-source-code"></a>Configure <code>extension-scripts</code> to work with legacy source code.<a class="hash-link" href="#configure-extension-scripts-to-work-with-legacy-source-code" title="Direct link to heading">#</a></h4><p>The <code>converse-cli</code> tool was very opinionated and didn&#x27;t allow for any user configuration. Alternatively, the new <code>extension-scripts</code> tool is extremely versatile and allows the developer to build extensions in the way that suits their own workflow. Having said that, 99% of the time we expect extension developers to stick to the best practices so to aid in that effort we have published config packages that can tell the tool how it should be configured.</p><p>There are two:</p><ul><li><a href="https://www.npmjs.com/package/@smartsheet-bridge/extensionrc-standard" target="_blank" rel="noopener noreferrer"><code>extensionrc-standard</code></a></li><li><a href="https://www.npmjs.com/package/@smartsheet-bridge/extensionrc-legacy" target="_blank" rel="noopener noreferrer"><code>extensionrc-legacy</code></a></li></ul><p>The first of these is the default and is recommended to be used by all extensions going forward as this closely matches our best practices. However, the second is designed to allow the new tooling to work immediately with a legacy extension built with the <code>converse-cli</code> without much refactoring.</p><p>First install the <code>extensionrc-legacy</code> package as a development dependency.</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q bash"><div tabindex="0" class="prism-code language-bash codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -D @smartsheet-bridge/extensionrc-legacy</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Next override the default configuration by adding an extension property to your <code>package.json</code> file.</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q git"><div tabindex="0" class="prism-code language-git codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted" style="color:rgb(195, 232, 141)">+ &quot;extension&quot;: {</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted" style="color:rgb(195, 232, 141)">+   &quot;extends&quot;: &quot;@smartsheet-bridge/extensionrc-legacy&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted" style="color:rgb(195, 232, 141)">+ }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="command-line-comparison-table"></a>Command line comparison table<a class="hash-link" href="#command-line-comparison-table" title="Direct link to heading">#</a></h3><p>The <code>extension-scripts</code> tool is designed to replace the <code>converse-cli</code> tool, so many of the commands are very similar with one exception: <code>extension-scripts</code> is not designed to autogenerate code like the <code>converse-cli</code> tool was and therefore where many of the commands below are similar, the <code>converse-cli plugin &lt;cmd&gt;</code> command does not have an equivalent in the new tooling.</p><table><thead><tr><th align="left"><code>converse-cli</code></th><th align="left"><code>extension-scripts </code></th></tr></thead><tbody><tr><td align="left"><code>converse-cli auth</code></td><td align="left"><code>extension-scripts account add [alias]</code></td></tr><tr><td align="left"><code>converse-cli plugin &lt;cmd&gt;</code></td><td align="left">not supported</td></tr><tr><td align="left"><code>converse-cli deploy</code></td><td align="left"><code>extension-scripts deploy [alias]</code></td></tr><tr><td align="left"><code>converse-cli revoke</code></td><td align="left"><code>extension-scripts revoke [alias]</code></td></tr><tr><td align="left"><code>converse-cli stream-log</code></td><td align="left"><code>extension-scripts logs [alias]</code></td></tr></tbody></table><p>Although the root commands are similar in function, the overall tooling has a few changes in philosophy:</p><ul><li>The <code>extension-scripts</code> tool is not designed to be installed globally, it should be installed as a development dependency for each extension at all times.</li><li>The <code>extension-scripts</code> tool is designed to work perfectly out of the box with CI systems and therefore lacks many of the interactive elements you may have become accustomed to with the <code>converse-cli</code> tool.</li><li>The <code>extension-scripts</code> tool does not require authentication until it&#x27;s needed. Unlike the <code>converse-cli</code> tool that required authentication with exactly one account at all times the new tooling only requires authentication when you actually need to interact with the platform. This means that you can be authenticated with zero, one, or many accounts at the same time by using aliases. See <a href="/create-bridge-extension/api/extension-scripts#account-aliases">here for more information on aliases</a>.</li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/create-bridge-extension/advanced/thunks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Using Thunks</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3J2a thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#from-converse-cli-to-extension-scripts0x" class="table-of-contents__link">From <code>converse-cli</code> to <code>extension-scripts@0.x</code></a><ul><li><a href="#migration-steps" class="table-of-contents__link">Migration Steps</a></li><li><a href="#command-line-comparison-table" class="table-of-contents__link">Command line comparison table</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Smartsheet.</div></div></div></footer></div>
<script src="/create-bridge-extension/assets/js/runtime~main.b750daa1.js"></script>
<script src="/create-bridge-extension/assets/js/main.fd57a5a2.js"></script>
</body>
</html>