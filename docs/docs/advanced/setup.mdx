---
id: setup
title: Manual Setup
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<!-- :::note

It is highly recommended that you create an extension using the `create-bridge-extension` tool to ensure you are using the latest and greatest technology available to you. Use this documentation to help understand how a basic extension can be created, but the tool does all of this for you and more.

::: -->

## Prerequisits

- Make sure you have `NodeJS` installed.
- You can use `npm` installed with `NodeJS` but you can also use `yarn`.
- To run the extension on Bridge by Smartsheet you will need an account.
- Knowledge and understanding of JavaScript or TypeScript on NodeJS.

## Create a new project folder

In a terminal, navigate to where you want your project to exist and create a new directory for your extension.

```bash
mkdir helloworld
cd helloworld
```

## Set up NPM and install the required dependencies

Create a file called `package.json` at the root of your project directory and populate the file with the contents below depending on whether you are making a JavaScript or TypeScript extension.

<Tabs
groupId="js2ts"
defaultValue="js"
values={[
  { label: 'JavaScript', value: 'js', },
  { label: 'TypeScript', value: 'ts', },
]
}>
<TabItem value="js">

```json
{
  "name": "helloworld",
  "version": "1.0.0",
  "private": true,
  "publishConfig": {
    "access": "restricted"
  },
  "main": "src/index.js",
  "scripts": {
    "logs": "extension-scripts logs",
    "deploy": "extension-scripts deploy",
    "deploy:verbose": "extension-scripts deploy -l verbose"
  },
}
```

</TabItem>
<TabItem value="ts">

```json
{
  "name": "helloworld",
  "version": "1.0.0",
  "private": true,
  "publishConfig": {
    "access": "restricted"
  },
  "main": "lib/index.js",
  "scripts": {
    "account": "extension-scripts account",
    "logs": "extension-scripts logs",
    "deploy": "extension-scripts deploy",
    "deploy:verbose": "extension-scripts deploy -l verbose"
  },
}
```

</TabItem>
</Tabs>

The first line is the name of your extension. The next 5 lines are less important for extension development but they ensure NPM is configrued correctly.

The next two lines are important properties for extension development: `main` is the entry point; `scripts` is a colection of npm scripts to help interact with the extension tooling.

This file will continue to grow through this setup.

## Add dependencies

### Install `dependencies`.


<Tabs
groupId="npm2yarn"
defaultValue="npm"
values={[
  { label: 'NPM', value: 'npm', },
  { label: 'Yarn', value: 'yarn', },
]
}>
<TabItem value="npm">

```bash
npm i @smartsheet-bridge/extension-handler
```

</TabItem>
<TabItem value="yarn">

```bash
yarn add @smartsheet-bridge/extension-handler
```

</TabItem>
</Tabs>

### Install `devDependencies`

<Tabs
groupId="npm2yarn"
defaultValue="npm"
values={[
  { label: 'NPM', value: 'npm', },
  { label: 'Yarn', value: 'yarn', },
]
}>
<TabItem value="npm">

```bash
npm i -D @smartsheet-bridge/extension-scripts
```

</TabItem>
<TabItem value="yarn">

```bash
yarn add -D @smartsheet-bridge/extension-scripts
```

</TabItem>
</Tabs>

:::note

If you are creating a TypeScript extension make sure you install TypeScript as a `devDependency` too.

<Tabs
groupId="npm2yarn"
defaultValue="npm"
values={[
  { label: 'NPM', value: 'npm', },
  { label: 'Yarn', value: 'yarn', },
]
}>
<TabItem value="npm">

```bash
npm i -D typescript
```

</TabItem>
<TabItem value="yarn">

```bash
yarn add -D typescript
```

</TabItem>
</Tabs>

:::

## Add entry point

The filepath of the entry point relative to the `package.json` file must match the `main` property within. E.g. if you are creating a JavaScript extension and you've created a `package.json` file with the value of property `main` set to `src/index.js` then this file must exist at the path `src/index.js`.

<Tabs
groupId="js2ts"
defaultValue="js"
values={[
  { label: 'JavaScript', value: 'js', },
  { label: 'TypeScript', value: 'ts', },
]
}>
<TabItem value="js">

Create a `src` directory and an `index.js` file within. Add the following content.

```js title="src/index.js"
const { createBridgeHandler } = require("@smartsheet-bridge/extension-handler");

exports.main = createBridgeHandler();
```

</TabItem>
<TabItem value="ts">

Create a `src` directory and an `index.ts` file within. Add the following content.

```ts title="src/index.ts"
import { createBridgeHandler } from "@smartsheet-bridge/extension-handler";

export const main = createBridgeHandler();
```

</TabItem>
</Tabs>

The first line imports the necessary dependencies. 

The third line exports your extension entry point that we will configure next.

## Add first module

Create a module that can take one input, called `input`, and return a property called `result` that is a concatenated string. This file should also live in the `src` directory.

<Tabs
groupId="js2ts"
defaultValue="js"
values={[
  { label: 'JavaScript', value: 'js', },
  { label: 'TypeScript', value: 'ts', },
]
}>
<TabItem value="js">


```js title="src/helloworld.js"
exports.helloworld = (params) => {
  return { result: `Hello, ${params.input}!` };
};
```

</TabItem>
<TabItem value="ts">


```ts title="src/helloworld.ts"
import { ModuleFunction } from "@smartsheet-bridge/extension-handler";

type HelloWorldParams = { input: string };

export const helloworld: ModuleFunction<HelloWorldParams> = (params) => {
  return { result: `Hello, ${params.input}!` };
};
```


</TabItem>
</Tabs>

Ammend the `src/index` file to include the newly made module.

<Tabs
groupId="js2ts"
defaultValue="js"
values={[
  { label: 'JavaScript', value: 'js', },
  { label: 'TypeScript', value: 'ts', },
]
}>
<TabItem value="js">

```js title="src/index.js" {2,4-8}
const { createBridgeHandler } = require("@smartsheet-bridge/extension-handler");
const { helloworld } = require("./helloworld");

exports.main = createBridgeHandler({
  modules: {
    helloworld: helloworld,
  },
});
```

</TabItem>
<TabItem value="ts">

```ts title="src/index.ts" {2,4-8}
import { createBridgeHandler } from "@smartsheet-bridge/extension-handler";
import { helloworld } from "./helloworld";

export const main = createBridgeHandler({
  modules: {
    helloworld: helloworld,
  },
});
```

</TabItem>
</Tabs>

_The property of the module must equal the name defined in the spec file described next. In this case, helloworld is the name of the module so we shall use that in the spec file._

## Create Spec file

Finally, you must create a spec file to help describe the extension to the user interface. This is the same regardless of the language used to create the extension.

```json
{
  "name": "helloworld",
  "displayName": "Hello World",
  "module": [
    {
      "id": "helloworld",
      "name": "Hello World",
      "hasReturn": true,
      "param": [
        {
          "param": "input",
          "displayName": "Your name",
          "type": "STRING",
        }
      ]
    }
  ],
}
```

This file describes the extension with the name `helloworld`, that has one module with the id `helloworld`, that has one parameter with the param called `input`.

In this example, `helloworld` is the unique id of the extension you are going to deploy next but also the unique id of the module within the extension that must exist in the `modules` property of `createBridgeHandler`. The module has one parameter called `input` that will be accessible on the first parameter of the module. E.g. `params.input`.

**And you're finished ðŸ˜Ž**

## Deploy Extension

:::note

To deploy an extension on Bridge by Smartsheet you will need an account.

:::

To deploy an extension created with the `create-bridge-extension` tool simply run the following command from the project directory where `<insert url here>` is the url of your Bridge by Smartsheet account that you can find in the browser when viewing the application, and `<insert key here>` is an API key that can be generated in your Bridge by Smartsheet account.

<Tabs
groupId="npm2yarn"
defaultValue="npm"
values={[
  { label: 'NPM', value: 'npm', },
  { label: 'Yarn', value: 'yarn', },
]
}>
<TabItem value="npm">

```bash
npm run deploy -- --url=<insert url here> --key=<insert key here>
```

</TabItem>
<TabItem value="yarn">

```bash
yarn deploy --url=<insert url here> --key=<insert key here>
```

</TabItem>
</Tabs>